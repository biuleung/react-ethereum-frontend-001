(this["webpackJsonpreact-ethereum-frontend-001"]=this["webpackJsonpreact-ethereum-frontend-001"]||[]).push([[5],{669:function(e,t,n){},673:function(e,t,n){e.exports={container:"horizontal-video_container__2ptRL",videoScroller:"horizontal-video_videoScroller__3dAdE",scrollingButtons:"horizontal-video_scrollingButtons__3tdRv",button:"horizontal-video_button__3hp3Z"}},674:function(e,t,n){e.exports={auth:"auth_auth__YftEO",logoContainer:"auth_logoContainer__X9iHt"}},675:function(e,t,n){e.exports={button:"metamask-auth_button__150ih",address:"metamask-auth_address__3JgnA"}},678:function(e,t){},689:function(e,t){},704:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(25),c=n(24),i=n(629),o=n(29),d=function(){return Object(o.jsx)(c.a,{to:"/dances/videos"})},u=n(639),l=n(78),j=n(113),b=n(640),p=(n(669),n(198)),h=n(199),m=n(670),f=n.n(m),x=n(672),O=n.n(x),v=function(e){var t=e.itemList,n=e.onSelect,a=e.onRemove,s=e.placeholder,c=void 0===s?"Select":s,i=e.enabledPreviousSelected,d=void 0!==i&&i,u=[],l=Object(r.useRef)();t.forEach((function(e,t){u.push(e)}));var j={options:u};return Object(r.useEffect)((function(){d&&n(l.current.state.selectedValues)})),setTimeout((function(){O()("#search_input").prop("readonly",!0)})),Object(o.jsx)(f.a,{ref:l,placeholder:c,options:j.options,closeOnSelect:!1,onSelect:function(e){return n(e)},onRemove:function(e){return a(e)},groupBy:"cat",displayValue:"key"})},g=n(624),w=n(625),y=function(){function e(){Object(g.a)(this,e)}return Object(w.a)(e,null,[{key:"shuffle",value:function(e){var t=Object(u.a)(e);try{for(var n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=[t[r],t[n]];t[n]=a[0],t[r]=a[1]}return t}catch(s){return e}}}]),e}(),N=p.d.actions.setProgress,k=function(e){var t=e.type,n=void 0===t?"":t,a=e.videoUrl,s=void 0===a?"":a,c=e.videoHeight,i=e.videoWidth,d=Object(h.b)();var u=new IntersectionObserver((function(e){if(!e||e.length<=0)return;e[0].isIntersecting&&(m(!0),u.disconnect())}),{rootMargin:"100px 0px",threshold:.25}),l=Object(r.useState)(!1),j=Object(b.a)(l,2),p=j[0],m=j[1],f=Object(r.createRef)();Object(r.useEffect)((function(){window&&"IntersectionObserver"in window?f&&f.current&&u.observe(f.current):m(!0)}),[f]),s+="?rel=0&modestbranding=1&autohide=1&showinfo=0";var x="videos-box ".concat(n);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:x,ref:f,children:p?Object(o.jsx)("iframe",{width:i,height:c,onLoad:function(){d(N({}))},src:s,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):void 0})})},_=n(673),S=n.n(_),C=n(705),A=function(e){var t=e.itemList,n=Object(r.useRef)(null);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:S.a.container+" horizontal-videos",children:Object(o.jsx)("div",{className:S.a.videoScroller,ref:n,children:t&&t.map((function(e){return Object(o.jsx)(k,{type:"horizontal-video",videoUrl:e.url,videoHeight:"100%",videoWidth:"100%"},Object(C.a)())}))})})})},R=n(439),M=function(){var e=Object(h.c)((function(e){return e.allVideosInfo.selectedVideos}));return Object(o.jsx)("div",{className:"all-vedeos-box-container",children:Object(o.jsx)("div",{className:"vedeos-grid",children:e&&e.map((function(e){return Object(o.jsx)(k,{type:"all-video",videoUrl:e.url,videoHeight:"250px",videoWidth:"335px"},Object(C.a)())}))})})},T=R.a.actions,F=T.setSelectedVideos,E=T.setTags,P=p.d.actions.setProgress,z=function(){var e=Object(h.b)(),t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1],c=[],i=[],d=[],m=d&&d.length;Object(r.useEffect)((function(){var t=Object(R.b)(),n=function(){var e=Object(j.a)(Object(l.a)().mark((function e(){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b.dispatch(t);case 2:n=e.sent,s(Array.isArray(n.payload)&&n.payload[0].data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n(),function(){e(F([])),e(P({step:0,fullCount:0}))}}),[e]),Array.isArray(a)&&a.length&&(a.forEach((function(e){e.hasOwnProperty("tags")&&e.tags.forEach((function(e){c&&!c.find((function(t){return t.key===e.key}))&&c.push(e)}))})),i=Object(u.a)(y.shuffle(a)));var f=Object(r.useMemo)((function(){return e(E(c)),c}),[c,e]);Object(r.useEffect)((function(){m&&e(P({fullCount:m}))}),[e,m]);var x=function(t){e(P({step:0,fullCount:0})),d=a&&a.filter((function(e){return t.every((function(t){return e.tags.some((function(e){return e.key===t.key}))}))})),e(F(d)),e(P({fullCount:d.length}))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(A,{itemList:i}),Object(o.jsxs)("div",{className:"mt-5",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{children:"All videos"})}),Object(o.jsx)("div",{className:"dropdown-list",children:Object(o.jsx)(v,{itemList:f,onSelect:x,onRemove:x,placeholder:"Filter",enabledPreviousSelected:!0})}),Object(o.jsx)("div",{children:a&&a.length&&Object(o.jsx)(M,{})})]})]})},D=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:a.a.lazy((function(){return n.e(6).then(n.bind(null,703))}))},{path:"/dances",name:"Dances",component:d,exact:!0},{path:"/dances/videos",name:"Videos",component:z},{path:"/users",exact:!0,name:"Users",component:a.a.lazy((function(){return n.e(9).then(n.bind(null,706))}))}],H=Object(o.jsx)("div",{className:"pt-3 text-center",children:Object(o.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),I=function(){return Object(o.jsx)("main",{className:"c-main",children:Object(o.jsx)(i.j,{fluid:!0,children:Object(o.jsx)(r.Suspense,{fallback:H,children:Object(o.jsxs)(c.d,{children:[D.map((function(e,t){return e.component&&Object(o.jsx)(c.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(o.jsx)(i.q,{children:Object(o.jsx)(e.component,Object(s.a)({},t))})}},t)})),Object(o.jsx)(c.a,{from:"/",to:"/dashboard"})]})})})})},L=a.a.memo(I),B=function(){return Object(o.jsxs)(i.r,{fixed:!1,children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{className:"mfs-auto",children:Object(o.jsx)("a",{href:"",target:"_blank",rel:"noopener noreferrer",children:"2022"})})]})},U=a.a.memo(B),V=n(695),q=function(){var e=Object(h.b)(),t=p.e.actions,n=t.toggle,r=t.toggleMobile,a=function(e){var t,n=e.step/e.fullCount*100;return(null!==(t=n<10&&e.fullCount>0)&&void 0!==t?t:n)?10:n}(Object(h.c)((function(e){return e.progressBar})));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(i.s,{withSubheader:!0,children:[Object(o.jsx)(i.P,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){e(r())}}),Object(o.jsx)(i.P,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){e(n())}}),Object(o.jsx)(i.t,{className:"mx-auto d-lg-none",to:"/",children:"Homepage"}),Object(o.jsxs)(i.u,{className:"d-md-down-none mr-auto",children:[Object(o.jsx)(i.v,{className:"px-3",children:Object(o.jsx)(i.w,{to:"/dashboard",children:"Dashboard"})}),Object(o.jsx)(i.v,{className:"px-3",children:Object(o.jsx)(i.w,{to:"/users",children:"Users"})}),Object(o.jsx)(i.v,{className:"px-3",children:Object(o.jsx)(i.w,{children:"Settings"})})]}),Object(o.jsx)(i.u,{className:"px-3",children:Object(o.jsx)(xe,{})}),Object(o.jsxs)(i.O,{className:"px-3 justify-content-between",children:[Object(o.jsx)(i.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:D}),Object(o.jsx)("div",{className:"d-md-down-none mfe-2 c-subheader-nav"})]})]}),Object(o.jsx)("div",{className:"progress-bar-container",children:Object(o.jsx)(V.a,{animated:!0,now:a,hidden:a>=100||!a})})]})},J=n(630),W=n(674),G=n.n(W),Y=n(675),K=n.n(Y),X=n(652),Z="0x59F6FaB187BD88311cF4335d0d99bA126B150df0",Q=[{inputs:[{internalType:"uint256",name:"initRegistrationFee",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"deactivatedAccountAddr",type:"address"}],name:"accountDeactivatd",type:"event"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"deactivateAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"registeredaccount",type:"address"}],name:"newRegistered",type:"event"},{inputs:[],name:"signup",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getRegisteredAccount",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],$=p.a.actions.setProvider,ee=p.c.actions.updateAddress;function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new X.a.providers.Web3Provider(window.ethereum));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,n){var r,a,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return(r=e.sent)&&t($(r)),a=new X.a.Contract(Z,Q,r),e.next=8,a.getRegisteredAccount(n);case 8:if(!(s=e.sent)||!s[1]){e.next=14;break}return t(ee({address:n,isRegistered:!0})),e.abrupt("return",!0);case 14:return t(ee({address:n,isRegistered:!1})),e.abrupt("return",!1);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ae=re,se=p.c.actions.updateAddress;function ce(){return"ontouchstart"in window||"onmsgesturechange"in window}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(j.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return alert("Get MetaMask!"),t(se({address:"0x"})),e.abrupt("return");case 4:return e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:return n=e.sent,e.next=9,ae(t,n[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(j.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=16;break}return be(t),e.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((n=e.sent).length>0)){e.next=12;break}return e.next=8,ae(t,n[0]);case 8:return be(t),e.abrupt("return");case 12:t(se({address:"0x"}));case 13:if(!ce()){e.next=16;break}return e.next=16,ie(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(j.a)(Object(l.a)().mark((function e(t,n,r){var a,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,r);case 2:if(!e.sent){e.next=6;break}t(se({address:r,isRegistered:!0})),e.next=22;break;case 6:return a=n.getSigner(),s=new X.a.Contract(Z,Q,a),c={value:20,gasLimit:3e5},e.prev=9,e.next=12,s.signup(c);case 12:e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),alert(e.t0.message);case 18:return e.prev=18,e.next=21,ae(t,r);case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[9,15,18,22]])})))).apply(this,arguments)}var le=function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,n){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=5;break}return e.next=3,ae(t,n[0]);case 3:e.next=6;break;case 5:t(se({address:"0x"}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(e){e(se({address:"0x"}))};function be(e){window.ethereum&&(window.ethereum.on("accountsChanged",le.bind(null,e)),window.ethereum.on("disconnect",je.bind(null,e)))}var pe=function(e){var t=e.setUserAddress;if(ce()){return Object(o.jsx)("a",{href:"https://metamask.app.link/dapp/metamask-auth.ilamanov.repl.co",children:Object(o.jsx)("button",{className:K.a.button,children:"Connect to MetaMask"})})}return Object(o.jsx)("button",{className:K.a.button,onClick:function(){return ie(t)},children:"Connect to MetaMask"})},he=function(e){var t=e.userAddress;return Object(o.jsxs)("span",{id:"short-address",className:K.a.address,children:[t.substring(0,5),"\u2026",t.substring(t.length-4)]})},me=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.loginInfo})),n=Object(h.c)((function(e){return e.ERCProvider}));switch(Object(r.useEffect)((function(){return function(e){de.apply(this,arguments)}(e),function(){window.ethereum}}),[e]),t.address&&"0x"!==t.address){case!0:return!0===t.isRegistered?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"mr-1",children:Object(o.jsx)(he,{userAddress:t.address})})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("button",{className:K.a.button,onClick:function(){return function(e,t,n){return ue.apply(this,arguments)}(e,n.provider,t.address)},children:"Sign up"})});case!1:return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(pe,{setUserAddress:e})});default:return Object(o.jsx)(o.Fragment,{})}};var fe=function(){return Object(o.jsxs)("div",{className:G.a.auth,children:[Object(o.jsx)("div",{className:G.a.logoContainer}),Object(o.jsx)(me,{})]})},xe=function(){var e=Object(h.c)((function(e){return e.loginInfo}));return Object(o.jsxs)(i.m,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[e.isRegistered&&Object(o.jsx)(i.p,{className:"c-header-nav-link",caret:!1,children:Object(o.jsx)("div",{className:"c-avatar",children:Object(o.jsx)(i.x,{src:"/react-ethereum-frontend-001/avatars/default.jpg",className:"c-avatar-img",alt:""})})}),Object(o.jsx)(fe,{})]}),Object(o.jsxs)(i.o,{className:"pt-0",placement:"bottom-end",children:[Object(o.jsx)(i.n,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(o.jsx)("strong",{children:"Settings"})}),Object(o.jsxs)(i.n,{children:[Object(o.jsx)(J.a,{name:"cil-user",className:"mfe-2"}),"Profile"]}),Object(o.jsx)(i.n,{divider:!0}),Object(o.jsxs)(i.n,{children:[Object(o.jsx)(J.a,{name:"cil-lock-locked",className:"mfe-2"}),"Lock Account"]})]})]})},Oe=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:Object(o.jsx)(J.a,{name:"cil-speedometer",customClasses:"c-sidebar-nav-icon"}),badge:{color:"info",text:""}},{_tag:"CSidebarNavDropdown",name:"Dances",route:"/dances",icon:"cil-puzzle",_children:[{_tag:"CSidebarNavItem",name:"Videos",to:"/dances/videos"}]}],ve=function(){var e=Object(h.b)(),t=p.e.actions.toggle,n=Object(h.c)((function(e){return e.sidebarShow}));return Object(o.jsxs)(i.G,{show:n,onShowChange:function(){return e(t())},children:[Object(o.jsx)(i.H,{className:"d-md-down-none",to:"/",children:Object(o.jsx)("div",{children:"Homepage"})}),Object(o.jsx)(i.J,{children:Object(o.jsx)(i.k,{items:Oe,components:{CSidebarNavDivider:i.K,CSidebarNavDropdown:i.L,CSidebarNavItem:i.M,CSidebarNavTitle:i.N}})}),Object(o.jsx)(i.I,{className:"c-d-md-down-none"})]})},ge=a.a.memo(ve);t.default=function(){return Object(o.jsxs)("div",{className:"c-app c-default-layout",children:[Object(o.jsx)(ge,{}),Object(o.jsxs)("div",{className:"c-wrapper",children:[Object(o.jsx)(q,{}),Object(o.jsx)("div",{className:"c-body",children:Object(o.jsx)(L,{})}),Object(o.jsx)(U,{})]})]})}}}]);
//# sourceMappingURL=5.a6c4fee4.chunk.js.map